{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mehdi\\\\Downloads\\\\voting_appV12\\\\voting_app\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\nimport axios from \"axios\";\nimport { ethers } from \"ethers\";\nimport { contractAbi, contractAddress } from \"./Constant/constant\";\nimport Login from \"./Components/Login\";\nimport Finished from \"./Components/Finished\";\nimport Connected from \"./Components/Connected\";\nimport CoverPage from \"./CoverPage\";\nimport \"./App.css\";\nimport { TextField, Button } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst pinataApiKey = \"cd77e5f1d0a8b5739fd7\";\nconst pinataSecretApiKey = \"7e08db964bb8c0a13652736915119635dd551cd0d215fbb7eb86476cbe38659b\";\nfunction App() {\n  _s();\n  const [provider, setProvider] = useState(null);\n  const [account, setAccount] = useState(null);\n  const [isConnected, setIsConnected] = useState(false);\n  const [votingStatus, setVotingStatus] = useState(true);\n  const [remainingTime, setRemainingTime] = useState(\"\");\n  const [candidates, setCandidates] = useState([]);\n  const [number, setNumber] = useState(\"\");\n  const [isAllowedToVote, setIsAllowedToVote] = useState(true);\n  const [newCandidateName, setNewCandidateName] = useState(\"\");\n  const [newCandidateImage, setNewCandidateImage] = useState(null);\n  useEffect(() => {\n    getCandidates();\n    getRemainingTime();\n    getCurrentStatus();\n    if (window.ethereum) {\n      window.ethereum.on(\"accountsChanged\", handleAccountsChanged);\n    }\n    return () => {\n      if (window.ethereum) {\n        window.ethereum.removeListener(\"accountsChanged\", handleAccountsChanged);\n      }\n    };\n  }, []);\n  async function vote() {\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\n    await provider.send(\"eth_requestAccounts\", []);\n    const signer = provider.getSigner();\n    const contractInstance = new ethers.Contract(contractAddress, contractAbi, signer);\n    const tx = await contractInstance.vote(number);\n    await tx.wait();\n    checkIfCanVote();\n  }\n  async function addCandidate() {\n    if (!newCandidateName || !newCandidateImage) {\n      return alert(\"Please enter candidate name and select an image\");\n    }\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", newCandidateImage);\n      const metadata = JSON.stringify({\n        name: newCandidateImage.name,\n        keyvalues: {\n          description: \"Candidate image uploaded using Pinata\"\n        }\n      });\n      formData.append(\"pinataMetadata\", metadata);\n      formData.append(\"pinataOptions\", JSON.stringify({\n        cidVersion: 1\n      }));\n      const result = await axios.post(\"https://api.pinata.cloud/pinning/pinFileToIPFS\", formData, {\n        maxBodyLength: \"Infinity\",\n        headers: {\n          \"Content-Type\": `multipart/form-data; boundary=${formData._boundary}`,\n          pinata_api_key: pinataApiKey,\n          pinata_secret_api_key: pinataSecretApiKey\n        }\n      });\n      const imageUrl = `https://gateway.pinata.cloud/ipfs/${result.data.IpfsHash}`;\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\n      await provider.send(\"eth_requestAccounts\", []);\n      const signer = provider.getSigner();\n      const contractInstance = new ethers.Contract(contractAddress, contractAbi, signer);\n      const tx = await contractInstance.addCandidate(newCandidateName, imageUrl);\n      await tx.wait();\n      getCandidates();\n    } catch (error) {\n      console.error(\"Error uploading image to Pinata:\", error);\n      alert(\"Failed to upload image to Pinata\");\n    }\n  }\n  async function checkIfCanVote() {\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\n    await provider.send(\"eth_requestAccounts\", []);\n    const signer = provider.getSigner();\n    const contractInstance = new ethers.Contract(contractAddress, contractAbi, signer);\n    const voteStatus = await contractInstance.voters(await signer.getAddress());\n    setIsAllowedToVote(voteStatus);\n  }\n  async function getCandidates() {\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\n    await provider.send(\"eth_requestAccounts\", []);\n    const signer = provider.getSigner();\n    const contractInstance = new ethers.Contract(contractAddress, contractAbi, signer);\n    const candidatesList = await contractInstance.getAllVotesOfCandidates();\n    const formattedCandidates = candidatesList.map((candidate, index) => {\n      return {\n        index: index,\n        name: candidate.name,\n        voteCount: candidate.voteCount.toNumber(),\n        image: candidate.image\n      };\n    });\n    setCandidates(formattedCandidates);\n  }\n  async function getCurrentStatus() {\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\n    await provider.send(\"eth_requestAccounts\", []);\n    const signer = provider.getSigner();\n    const contractInstance = new ethers.Contract(contractAddress, contractAbi, signer);\n    const status = await contractInstance.getVotingStatus();\n    setVotingStatus(status);\n  }\n  async function getRemainingTime() {\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\n    await provider.send(\"eth_requestAccounts\", []);\n    const signer = provider.getSigner();\n    const contractInstance = new ethers.Contract(contractAddress, contractAbi, signer);\n    const time = await contractInstance.getRemainingTime();\n    setRemainingTime(parseInt(time, 16));\n  }\n  function handleAccountsChanged(accounts) {\n    if (accounts.length > 0 && account !== accounts[0]) {\n      setAccount(accounts[0]);\n      checkIfCanVote();\n    } else {\n      setIsConnected(false);\n      setAccount(null);\n    }\n  }\n  async function connectToMetamask() {\n    if (window.ethereum) {\n      try {\n        const provider = new ethers.providers.Web3Provider(window.ethereum);\n        setProvider(provider);\n        await provider.send(\"eth_requestAccounts\", []);\n        const signer = provider.getSigner();\n        const address = await signer.getAddress();\n        setAccount(address);\n        setIsConnected(true);\n        checkIfCanVote();\n      } catch (err) {\n        console.error(err);\n      }\n    } else {\n      console.error(\"Metamask is not detected in the browser\");\n    }\n  }\n  function handleNumberChange(e) {\n    setNumber(e.target.value);\n  }\n  function handleNewCandidateChange(e) {\n    setNewCandidateName(e.target.value);\n  }\n  function handleNewCandidateImageChange(e) {\n    setNewCandidateImage(e.target.files[0]);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: votingStatus ? isConnected ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Connected, {\n        account: account,\n        candidates: candidates,\n        remainingTime: remainingTime,\n        number: number,\n        handleNumberChange: handleNumberChange,\n        voteFunction: vote,\n        showButton: isAllowedToVote\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(AddCandidate, {\n        addCandidate: addCandidate,\n        newCandidateName: newCandidateName,\n        handleNewCandidateChange: handleNewCandidateChange,\n        handleNewCandidateImageChange: handleNewCandidateImageChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(Login, {\n      connectWallet: connectToMetamask\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(Finished, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 218,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"l1m6TzCifTyXSobks6z656ykCWg=\");\n_c = App;\nfunction AddCandidate(_ref) {\n  let {\n    addCandidate,\n    newCandidateName,\n    handleNewCandidateChange,\n    handleNewCandidateImageChange\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container md-5\",\n    children: [/*#__PURE__*/_jsxDEV(TextField, {\n      type: \"text\",\n      value: newCandidateName,\n      onChange: handleNewCandidateChange,\n      placeholder: \"Candidate Name\",\n      variant: \"outlined\",\n      fullWidth: true,\n      margin: \"normal\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      fullWidth: true,\n      onChange: handleNewCandidateImageChange,\n      style: {\n        display: \"none\"\n      },\n      id: \"newCandidateImage\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"newCandidateImage\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        fullWidth: true,\n        variant: \"contained\",\n        component: \"span\",\n        children: \"Upload Image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: addCandidate,\n      fullWidth: true,\n      style: {\n        marginTop: \"10px\"\n      },\n      children: \"Add Candidate\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 255,\n    columnNumber: 5\n  }, this);\n}\n_c2 = AddCandidate;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"AddCandidate\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Route","Routes","axios","ethers","contractAbi","contractAddress","Login","Finished","Connected","CoverPage","TextField","Button","jsxDEV","_jsxDEV","pinataApiKey","pinataSecretApiKey","App","_s","provider","setProvider","account","setAccount","isConnected","setIsConnected","votingStatus","setVotingStatus","remainingTime","setRemainingTime","candidates","setCandidates","number","setNumber","isAllowedToVote","setIsAllowedToVote","newCandidateName","setNewCandidateName","newCandidateImage","setNewCandidateImage","getCandidates","getRemainingTime","getCurrentStatus","window","ethereum","on","handleAccountsChanged","removeListener","vote","providers","Web3Provider","send","signer","getSigner","contractInstance","Contract","tx","wait","checkIfCanVote","addCandidate","alert","formData","FormData","append","metadata","JSON","stringify","name","keyvalues","description","cidVersion","result","post","maxBodyLength","headers","_boundary","pinata_api_key","pinata_secret_api_key","imageUrl","data","IpfsHash","error","console","voteStatus","voters","getAddress","candidatesList","getAllVotesOfCandidates","formattedCandidates","map","candidate","index","voteCount","toNumber","image","status","getVotingStatus","time","parseInt","accounts","length","connectToMetamask","address","err","handleNumberChange","e","target","value","handleNewCandidateChange","handleNewCandidateImageChange","files","className","children","voteFunction","showButton","fileName","_jsxFileName","lineNumber","columnNumber","AddCandidate","connectWallet","_c","_ref","type","onChange","placeholder","variant","fullWidth","margin","style","display","id","htmlFor","component","color","onClick","marginTop","_c2","$RefreshReg$"],"sources":["C:/Users/mehdi/Downloads/voting_appV12/voting_app/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\nimport axios from \"axios\";\nimport { ethers } from \"ethers\";\nimport { contractAbi, contractAddress } from \"./Constant/constant\";\nimport Login from \"./Components/Login\";\nimport Finished from \"./Components/Finished\";\nimport Connected from \"./Components/Connected\";\nimport CoverPage from \"./CoverPage\";\nimport \"./App.css\";\nimport { TextField, Button } from '@mui/material';\n\nconst pinataApiKey = \"cd77e5f1d0a8b5739fd7\";\nconst pinataSecretApiKey = \"7e08db964bb8c0a13652736915119635dd551cd0d215fbb7eb86476cbe38659b\";\n\nfunction App() {\n  const [provider, setProvider] = useState(null);\n  const [account, setAccount] = useState(null);\n  const [isConnected, setIsConnected] = useState(false);\n  const [votingStatus, setVotingStatus] = useState(true);\n  const [remainingTime, setRemainingTime] = useState(\"\");\n  const [candidates, setCandidates] = useState([]);\n  const [number, setNumber] = useState(\"\");\n  const [isAllowedToVote, setIsAllowedToVote] = useState(true);\n  const [newCandidateName, setNewCandidateName] = useState(\"\");\n  const [newCandidateImage, setNewCandidateImage] = useState(null);\n\n  useEffect(() => {\n    getCandidates();\n    getRemainingTime();\n    getCurrentStatus();\n    if (window.ethereum) {\n      window.ethereum.on(\"accountsChanged\", handleAccountsChanged);\n    }\n\n    return () => {\n      if (window.ethereum) {\n        window.ethereum.removeListener(\n          \"accountsChanged\",\n          handleAccountsChanged\n        );\n      }\n    };\n  }, []);\n\n  async function vote() {\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\n    await provider.send(\"eth_requestAccounts\", []);\n    const signer = provider.getSigner();\n    const contractInstance = new ethers.Contract(\n      contractAddress,\n      contractAbi,\n      signer\n    );\n\n    const tx = await contractInstance.vote(number);\n    await tx.wait();\n    checkIfCanVote();\n  }\n\n  async function addCandidate() {\n    if (!newCandidateName || !newCandidateImage) {\n      return alert(\"Please enter candidate name and select an image\");\n    }\n\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", newCandidateImage);\n\n      const metadata = JSON.stringify({\n        name: newCandidateImage.name,\n        keyvalues: {\n          description: \"Candidate image uploaded using Pinata\",\n        },\n      });\n\n      formData.append(\"pinataMetadata\", metadata);\n      formData.append(\"pinataOptions\", JSON.stringify({ cidVersion: 1 }));\n\n      const result = await axios.post(\n        \"https://api.pinata.cloud/pinning/pinFileToIPFS\",\n        formData,\n        {\n          maxBodyLength: \"Infinity\",\n          headers: {\n            \"Content-Type\": `multipart/form-data; boundary=${formData._boundary}`,\n            pinata_api_key: pinataApiKey,\n            pinata_secret_api_key: pinataSecretApiKey,\n          },\n        }\n      );\n\n      const imageUrl = `https://gateway.pinata.cloud/ipfs/${result.data.IpfsHash}`;\n\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\n      await provider.send(\"eth_requestAccounts\", []);\n      const signer = provider.getSigner();\n      const contractInstance = new ethers.Contract(\n        contractAddress,\n        contractAbi,\n        signer\n      );\n\n      const tx = await contractInstance.addCandidate(\n        newCandidateName,\n        imageUrl\n      );\n      await tx.wait();\n      getCandidates();\n    } catch (error) {\n      console.error(\"Error uploading image to Pinata:\", error);\n      alert(\"Failed to upload image to Pinata\");\n    }\n  }\n\n  async function checkIfCanVote() {\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\n    await provider.send(\"eth_requestAccounts\", []);\n    const signer = provider.getSigner();\n    const contractInstance = new ethers.Contract(\n      contractAddress,\n      contractAbi,\n      signer\n    );\n    const voteStatus = await contractInstance.voters(await signer.getAddress());\n    setIsAllowedToVote(voteStatus);\n  }\n\n  async function getCandidates() {\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\n    await provider.send(\"eth_requestAccounts\", []);\n    const signer = provider.getSigner();\n    const contractInstance = new ethers.Contract(\n      contractAddress,\n      contractAbi,\n      signer\n    );\n    const candidatesList = await contractInstance.getAllVotesOfCandidates();\n    const formattedCandidates = candidatesList.map((candidate, index) => {\n      return {\n        index: index,\n        name: candidate.name,\n        voteCount: candidate.voteCount.toNumber(),\n        image: candidate.image,\n      };\n    });\n    setCandidates(formattedCandidates);\n  }\n\n  async function getCurrentStatus() {\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\n    await provider.send(\"eth_requestAccounts\", []);\n    const signer = provider.getSigner();\n    const contractInstance = new ethers.Contract(\n      contractAddress,\n      contractAbi,\n      signer\n    );\n    const status = await contractInstance.getVotingStatus();\n    setVotingStatus(status);\n  }\n\n  async function getRemainingTime() {\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\n    await provider.send(\"eth_requestAccounts\", []);\n    const signer = provider.getSigner();\n    const contractInstance = new ethers.Contract(\n      contractAddress,\n      contractAbi,\n      signer\n    );\n    const time = await contractInstance.getRemainingTime();\n    setRemainingTime(parseInt(time, 16));\n  }\n\n  function handleAccountsChanged(accounts) {\n    if (accounts.length > 0 && account !== accounts[0]) {\n      setAccount(accounts[0]);\n      checkIfCanVote();\n    } else {\n      setIsConnected(false);\n      setAccount(null);\n    }\n  }\n\n  async function connectToMetamask() {\n    if (window.ethereum) {\n      try {\n        const provider = new ethers.providers.Web3Provider(window.ethereum);\n        setProvider(provider);\n        await provider.send(\"eth_requestAccounts\", []);\n        const signer = provider.getSigner();\n        const address = await signer.getAddress();\n        setAccount(address);\n        setIsConnected(true);\n        checkIfCanVote();\n      } catch (err) {\n        console.error(err);\n      }\n    } else {\n      console.error(\"Metamask is not detected in the browser\");\n    }\n  }\n\n  function handleNumberChange(e) {\n    setNumber(e.target.value);\n  }\n\n  function handleNewCandidateChange(e) {\n    setNewCandidateName(e.target.value);\n  }\n\n  function handleNewCandidateImageChange(e) {\n    setNewCandidateImage(e.target.files[0]);\n  }\n\n  return (\n    <div className=\"app\">\n      {votingStatus ? (\n        isConnected ? (\n          <div>\n            <Connected\n              account={account}\n              candidates={candidates}\n              remainingTime={remainingTime}\n              number={number}\n              handleNumberChange={handleNumberChange}\n              voteFunction={vote}\n              showButton={isAllowedToVote}\n            />\n            <AddCandidate\n              addCandidate={addCandidate}\n              newCandidateName={newCandidateName}\n              handleNewCandidateChange={handleNewCandidateChange}\n              handleNewCandidateImageChange={handleNewCandidateImageChange}\n            />\n          </div>\n        ) : (\n          <Login connectWallet={connectToMetamask} />\n        )\n      ) : (\n        <Finished />\n      )}\n    </div>\n  );\n}\n\nfunction AddCandidate({\n  addCandidate,\n  newCandidateName,\n  handleNewCandidateChange,\n  handleNewCandidateImageChange,\n}) {\n  return (\n    <div className=\"container md-5\">\n      <TextField\n        type=\"text\"\n        value={newCandidateName}\n        onChange={handleNewCandidateChange}\n        placeholder=\"Candidate Name\"\n        variant=\"outlined\"\n        fullWidth\n        margin=\"normal\"\n      />\n      <input\n        type=\"file\"\n        fullWidth\n        onChange={handleNewCandidateImageChange}\n        style={{ display: \"none\" }}\n        id=\"newCandidateImage\"\n      />\n      <label htmlFor=\"newCandidateImage\">\n        <Button  fullWidth variant=\"contained\" component=\"span\">\n          Upload Image\n        </Button>\n      </label>\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={addCandidate}\n        fullWidth\n        style={{ marginTop: \"10px\" }}\n      >\n        Add Candidate\n      </Button>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,aAAa,IAAIC,MAAM,EAAEC,KAAK,EAAEC,MAAM,QAAQ,kBAAkB;AACzE,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,QAAQ,QAAQ;AAC/B,SAASC,WAAW,EAAEC,eAAe,QAAQ,qBAAqB;AAClE,OAAOC,KAAK,MAAM,oBAAoB;AACtC,OAAOC,QAAQ,MAAM,uBAAuB;AAC5C,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,SAAS,MAAM,aAAa;AACnC,OAAO,WAAW;AAClB,SAASC,SAAS,EAAEC,MAAM,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElD,MAAMC,YAAY,GAAG,sBAAsB;AAC3C,MAAMC,kBAAkB,GAAG,kEAAkE;AAE7F,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACwB,OAAO,EAAEC,UAAU,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC0B,WAAW,EAAEC,cAAc,CAAC,GAAG3B,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAAC4B,YAAY,EAAEC,eAAe,CAAC,GAAG7B,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAAC8B,aAAa,EAAEC,gBAAgB,CAAC,GAAG/B,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACgC,UAAU,EAAEC,aAAa,CAAC,GAAGjC,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACkC,MAAM,EAAEC,SAAS,CAAC,GAAGnC,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACoC,eAAe,EAAEC,kBAAkB,CAAC,GAAGrC,QAAQ,CAAC,IAAI,CAAC;EAC5D,MAAM,CAACsC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGvC,QAAQ,CAAC,EAAE,CAAC;EAC5D,MAAM,CAACwC,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGzC,QAAQ,CAAC,IAAI,CAAC;EAEhEC,SAAS,CAAC,MAAM;IACdyC,aAAa,EAAE;IACfC,gBAAgB,EAAE;IAClBC,gBAAgB,EAAE;IAClB,IAAIC,MAAM,CAACC,QAAQ,EAAE;MACnBD,MAAM,CAACC,QAAQ,CAACC,EAAE,CAAC,iBAAiB,EAAEC,qBAAqB,CAAC;IAC9D;IAEA,OAAO,MAAM;MACX,IAAIH,MAAM,CAACC,QAAQ,EAAE;QACnBD,MAAM,CAACC,QAAQ,CAACG,cAAc,CAC5B,iBAAiB,EACjBD,qBAAqB,CACtB;MACH;IACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,eAAeE,IAAIA,CAAA,EAAG;IACpB,MAAM5B,QAAQ,GAAG,IAAIf,MAAM,CAAC4C,SAAS,CAACC,YAAY,CAACP,MAAM,CAACC,QAAQ,CAAC;IACnE,MAAMxB,QAAQ,CAAC+B,IAAI,CAAC,qBAAqB,EAAE,EAAE,CAAC;IAC9C,MAAMC,MAAM,GAAGhC,QAAQ,CAACiC,SAAS,EAAE;IACnC,MAAMC,gBAAgB,GAAG,IAAIjD,MAAM,CAACkD,QAAQ,CAC1ChD,eAAe,EACfD,WAAW,EACX8C,MAAM,CACP;IAED,MAAMI,EAAE,GAAG,MAAMF,gBAAgB,CAACN,IAAI,CAAChB,MAAM,CAAC;IAC9C,MAAMwB,EAAE,CAACC,IAAI,EAAE;IACfC,cAAc,EAAE;EAClB;EAEA,eAAeC,YAAYA,CAAA,EAAG;IAC5B,IAAI,CAACvB,gBAAgB,IAAI,CAACE,iBAAiB,EAAE;MAC3C,OAAOsB,KAAK,CAAC,iDAAiD,CAAC;IACjE;IAEA,IAAI;MACF,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,EAAE;MAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEzB,iBAAiB,CAAC;MAE1C,MAAM0B,QAAQ,GAAGC,IAAI,CAACC,SAAS,CAAC;QAC9BC,IAAI,EAAE7B,iBAAiB,CAAC6B,IAAI;QAC5BC,SAAS,EAAE;UACTC,WAAW,EAAE;QACf;MACF,CAAC,CAAC;MAEFR,QAAQ,CAACE,MAAM,CAAC,gBAAgB,EAAEC,QAAQ,CAAC;MAC3CH,QAAQ,CAACE,MAAM,CAAC,eAAe,EAAEE,IAAI,CAACC,SAAS,CAAC;QAAEI,UAAU,EAAE;MAAE,CAAC,CAAC,CAAC;MAEnE,MAAMC,MAAM,GAAG,MAAMnE,KAAK,CAACoE,IAAI,CAC7B,gDAAgD,EAChDX,QAAQ,EACR;QACEY,aAAa,EAAE,UAAU;QACzBC,OAAO,EAAE;UACP,cAAc,EAAG,iCAAgCb,QAAQ,CAACc,SAAU,EAAC;UACrEC,cAAc,EAAE5D,YAAY;UAC5B6D,qBAAqB,EAAE5D;QACzB;MACF,CAAC,CACF;MAED,MAAM6D,QAAQ,GAAI,qCAAoCP,MAAM,CAACQ,IAAI,CAACC,QAAS,EAAC;MAE5E,MAAM5D,QAAQ,GAAG,IAAIf,MAAM,CAAC4C,SAAS,CAACC,YAAY,CAACP,MAAM,CAACC,QAAQ,CAAC;MACnE,MAAMxB,QAAQ,CAAC+B,IAAI,CAAC,qBAAqB,EAAE,EAAE,CAAC;MAC9C,MAAMC,MAAM,GAAGhC,QAAQ,CAACiC,SAAS,EAAE;MACnC,MAAMC,gBAAgB,GAAG,IAAIjD,MAAM,CAACkD,QAAQ,CAC1ChD,eAAe,EACfD,WAAW,EACX8C,MAAM,CACP;MAED,MAAMI,EAAE,GAAG,MAAMF,gBAAgB,CAACK,YAAY,CAC5CvB,gBAAgB,EAChB0C,QAAQ,CACT;MACD,MAAMtB,EAAE,CAACC,IAAI,EAAE;MACfjB,aAAa,EAAE;IACjB,CAAC,CAAC,OAAOyC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;MACxDrB,KAAK,CAAC,kCAAkC,CAAC;IAC3C;EACF;EAEA,eAAeF,cAAcA,CAAA,EAAG;IAC9B,MAAMtC,QAAQ,GAAG,IAAIf,MAAM,CAAC4C,SAAS,CAACC,YAAY,CAACP,MAAM,CAACC,QAAQ,CAAC;IACnE,MAAMxB,QAAQ,CAAC+B,IAAI,CAAC,qBAAqB,EAAE,EAAE,CAAC;IAC9C,MAAMC,MAAM,GAAGhC,QAAQ,CAACiC,SAAS,EAAE;IACnC,MAAMC,gBAAgB,GAAG,IAAIjD,MAAM,CAACkD,QAAQ,CAC1ChD,eAAe,EACfD,WAAW,EACX8C,MAAM,CACP;IACD,MAAM+B,UAAU,GAAG,MAAM7B,gBAAgB,CAAC8B,MAAM,CAAC,MAAMhC,MAAM,CAACiC,UAAU,EAAE,CAAC;IAC3ElD,kBAAkB,CAACgD,UAAU,CAAC;EAChC;EAEA,eAAe3C,aAAaA,CAAA,EAAG;IAC7B,MAAMpB,QAAQ,GAAG,IAAIf,MAAM,CAAC4C,SAAS,CAACC,YAAY,CAACP,MAAM,CAACC,QAAQ,CAAC;IACnE,MAAMxB,QAAQ,CAAC+B,IAAI,CAAC,qBAAqB,EAAE,EAAE,CAAC;IAC9C,MAAMC,MAAM,GAAGhC,QAAQ,CAACiC,SAAS,EAAE;IACnC,MAAMC,gBAAgB,GAAG,IAAIjD,MAAM,CAACkD,QAAQ,CAC1ChD,eAAe,EACfD,WAAW,EACX8C,MAAM,CACP;IACD,MAAMkC,cAAc,GAAG,MAAMhC,gBAAgB,CAACiC,uBAAuB,EAAE;IACvE,MAAMC,mBAAmB,GAAGF,cAAc,CAACG,GAAG,CAAC,CAACC,SAAS,EAAEC,KAAK,KAAK;MACnE,OAAO;QACLA,KAAK,EAAEA,KAAK;QACZxB,IAAI,EAAEuB,SAAS,CAACvB,IAAI;QACpByB,SAAS,EAAEF,SAAS,CAACE,SAAS,CAACC,QAAQ,EAAE;QACzCC,KAAK,EAAEJ,SAAS,CAACI;MACnB,CAAC;IACH,CAAC,CAAC;IACF/D,aAAa,CAACyD,mBAAmB,CAAC;EACpC;EAEA,eAAe9C,gBAAgBA,CAAA,EAAG;IAChC,MAAMtB,QAAQ,GAAG,IAAIf,MAAM,CAAC4C,SAAS,CAACC,YAAY,CAACP,MAAM,CAACC,QAAQ,CAAC;IACnE,MAAMxB,QAAQ,CAAC+B,IAAI,CAAC,qBAAqB,EAAE,EAAE,CAAC;IAC9C,MAAMC,MAAM,GAAGhC,QAAQ,CAACiC,SAAS,EAAE;IACnC,MAAMC,gBAAgB,GAAG,IAAIjD,MAAM,CAACkD,QAAQ,CAC1ChD,eAAe,EACfD,WAAW,EACX8C,MAAM,CACP;IACD,MAAM2C,MAAM,GAAG,MAAMzC,gBAAgB,CAAC0C,eAAe,EAAE;IACvDrE,eAAe,CAACoE,MAAM,CAAC;EACzB;EAEA,eAAetD,gBAAgBA,CAAA,EAAG;IAChC,MAAMrB,QAAQ,GAAG,IAAIf,MAAM,CAAC4C,SAAS,CAACC,YAAY,CAACP,MAAM,CAACC,QAAQ,CAAC;IACnE,MAAMxB,QAAQ,CAAC+B,IAAI,CAAC,qBAAqB,EAAE,EAAE,CAAC;IAC9C,MAAMC,MAAM,GAAGhC,QAAQ,CAACiC,SAAS,EAAE;IACnC,MAAMC,gBAAgB,GAAG,IAAIjD,MAAM,CAACkD,QAAQ,CAC1ChD,eAAe,EACfD,WAAW,EACX8C,MAAM,CACP;IACD,MAAM6C,IAAI,GAAG,MAAM3C,gBAAgB,CAACb,gBAAgB,EAAE;IACtDZ,gBAAgB,CAACqE,QAAQ,CAACD,IAAI,EAAE,EAAE,CAAC,CAAC;EACtC;EAEA,SAASnD,qBAAqBA,CAACqD,QAAQ,EAAE;IACvC,IAAIA,QAAQ,CAACC,MAAM,GAAG,CAAC,IAAI9E,OAAO,KAAK6E,QAAQ,CAAC,CAAC,CAAC,EAAE;MAClD5E,UAAU,CAAC4E,QAAQ,CAAC,CAAC,CAAC,CAAC;MACvBzC,cAAc,EAAE;IAClB,CAAC,MAAM;MACLjC,cAAc,CAAC,KAAK,CAAC;MACrBF,UAAU,CAAC,IAAI,CAAC;IAClB;EACF;EAEA,eAAe8E,iBAAiBA,CAAA,EAAG;IACjC,IAAI1D,MAAM,CAACC,QAAQ,EAAE;MACnB,IAAI;QACF,MAAMxB,QAAQ,GAAG,IAAIf,MAAM,CAAC4C,SAAS,CAACC,YAAY,CAACP,MAAM,CAACC,QAAQ,CAAC;QACnEvB,WAAW,CAACD,QAAQ,CAAC;QACrB,MAAMA,QAAQ,CAAC+B,IAAI,CAAC,qBAAqB,EAAE,EAAE,CAAC;QAC9C,MAAMC,MAAM,GAAGhC,QAAQ,CAACiC,SAAS,EAAE;QACnC,MAAMiD,OAAO,GAAG,MAAMlD,MAAM,CAACiC,UAAU,EAAE;QACzC9D,UAAU,CAAC+E,OAAO,CAAC;QACnB7E,cAAc,CAAC,IAAI,CAAC;QACpBiC,cAAc,EAAE;MAClB,CAAC,CAAC,OAAO6C,GAAG,EAAE;QACZrB,OAAO,CAACD,KAAK,CAACsB,GAAG,CAAC;MACpB;IACF,CAAC,MAAM;MACLrB,OAAO,CAACD,KAAK,CAAC,yCAAyC,CAAC;IAC1D;EACF;EAEA,SAASuB,kBAAkBA,CAACC,CAAC,EAAE;IAC7BxE,SAAS,CAACwE,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;EAC3B;EAEA,SAASC,wBAAwBA,CAACH,CAAC,EAAE;IACnCpE,mBAAmB,CAACoE,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;EACrC;EAEA,SAASE,6BAA6BA,CAACJ,CAAC,EAAE;IACxClE,oBAAoB,CAACkE,CAAC,CAACC,MAAM,CAACI,KAAK,CAAC,CAAC,CAAC,CAAC;EACzC;EAEA,oBACE/F,OAAA;IAAKgG,SAAS,EAAC,KAAK;IAAAC,QAAA,EACjBtF,YAAY,GACXF,WAAW,gBACTT,OAAA;MAAAiG,QAAA,gBACEjG,OAAA,CAACL,SAAS;QACRY,OAAO,EAAEA,OAAQ;QACjBQ,UAAU,EAAEA,UAAW;QACvBF,aAAa,EAAEA,aAAc;QAC7BI,MAAM,EAAEA,MAAO;QACfwE,kBAAkB,EAAEA,kBAAmB;QACvCS,YAAY,EAAEjE,IAAK;QACnBkE,UAAU,EAAEhF;MAAgB;QAAAiF,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAC5B,eACFvG,OAAA,CAACwG,YAAY;QACX5D,YAAY,EAAEA,YAAa;QAC3BvB,gBAAgB,EAAEA,gBAAiB;QACnCwE,wBAAwB,EAAEA,wBAAyB;QACnDC,6BAA6B,EAAEA;MAA8B;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAC7D;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACE,gBAENvG,OAAA,CAACP,KAAK;MAACgH,aAAa,EAAEnB;IAAkB;MAAAc,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACzC,gBAEDvG,OAAA,CAACN,QAAQ;MAAA0G,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EACV;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACG;AAEV;AAACnG,EAAA,CAtOQD,GAAG;AAAAuG,EAAA,GAAHvG,GAAG;AAwOZ,SAASqG,YAAYA,CAAAG,IAAA,EAKlB;EAAA,IALmB;IACpB/D,YAAY;IACZvB,gBAAgB;IAChBwE,wBAAwB;IACxBC;EACF,CAAC,GAAAa,IAAA;EACC,oBACE3G,OAAA;IAAKgG,SAAS,EAAC,gBAAgB;IAAAC,QAAA,gBAC7BjG,OAAA,CAACH,SAAS;MACR+G,IAAI,EAAC,MAAM;MACXhB,KAAK,EAAEvE,gBAAiB;MACxBwF,QAAQ,EAAEhB,wBAAyB;MACnCiB,WAAW,EAAC,gBAAgB;MAC5BC,OAAO,EAAC,UAAU;MAClBC,SAAS;MACTC,MAAM,EAAC;IAAQ;MAAAb,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACf,eACFvG,OAAA;MACE4G,IAAI,EAAC,MAAM;MACXI,SAAS;MACTH,QAAQ,EAAEf,6BAA8B;MACxCoB,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAO,CAAE;MAC3BC,EAAE,EAAC;IAAmB;MAAAhB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACtB,eACFvG,OAAA;MAAOqH,OAAO,EAAC,mBAAmB;MAAApB,QAAA,eAChCjG,OAAA,CAACF,MAAM;QAAEkH,SAAS;QAACD,OAAO,EAAC,WAAW;QAACO,SAAS,EAAC,MAAM;QAAArB,QAAA,EAAC;MAExD;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAS;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACH,eACRvG,OAAA,CAACF,MAAM;MACLiH,OAAO,EAAC,WAAW;MACnBQ,KAAK,EAAC,SAAS;MACfC,OAAO,EAAE5E,YAAa;MACtBoE,SAAS;MACTE,KAAK,EAAE;QAAEO,SAAS,EAAE;MAAO,CAAE;MAAAxB,QAAA,EAC9B;IAED;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAS;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACL;AAEV;AAACmB,GAAA,GAxCQlB,YAAY;AA0CrB,eAAerG,GAAG;AAAC,IAAAuG,EAAA,EAAAgB,GAAA;AAAAC,YAAA,CAAAjB,EAAA;AAAAiB,YAAA,CAAAD,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}